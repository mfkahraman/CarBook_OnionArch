@using CarBook_OnionArch.Dto.StatisticsDtos
@model StatisticsDto

@{
    ViewData["Title"] = "Yönetim Paneli";
    Layout = "~/Areas/Admin/Views/AdminLayout/AdmLayout.cshtml";

    decimal weeklyRevenue = Model.AverageWeeklyRentPrice * 30;
    decimal yearlyRevenue = weeklyRevenue * 12;
    decimal totalRevenue = yearlyRevenue * 18239;

    int activeRentalCount = Model.CarCount * 351;
    int totalRentals = activeRentalCount * 123987;
    int dailyRentals = Model.CarCountUnder1000Km * 18;

    int activeLocationCount = (Model.LocationCount - 3) * 19;
}

<div class="row">
    <!-- Günlük Ortalama Kiralama Ücreti -->
    <div class="col-md-6 col-xl-3">
        <div class="card bg-primary border-primary">
            <div class="card-body">
                <div class="mb-4">
                    <span class="badge badge-soft-light float-right">Günlük</span>
                    <h5 class="card-title mb-0 text-white">Günlük Ortalama Kiralama Ücreti</h5>
                </div>
                <div class="row d-flex align-items-center mb-4">
                    <div class="col-8">
                        <h2 class="d-flex align-items-center mb-0 text-white">
                            @Model.AverageDailyRentPrice.ToString("N2")₺
                        </h2>
                    </div>
                    <div class="col-4 text-right">
                        <span class="text-white-50">+12.5% <i class="mdi mdi-arrow-up"></i></span>
                    </div>
                </div>

                <div class="progress badge-soft-light shadow-sm" style="height: 5px;">
                    <div class="progress-bar bg-light" role="progressbar" style="width: 38%;"></div>
                </div>
            </div>
        </div>
    </div> <!-- end col-->
    <!-- Haftalık Toplam Ciro -->
    <div class="col-md-6 col-xl-3">
        <div class="card bg-success border-success">
            <div class="card-body">
                <div class="mb-4">
                    <span class="badge badge-soft-light float-right">Haftalık</span>
                    <h5 class="card-title mb-0 text-white">Haftalık Toplam Ciro</h5>
                </div>
                <div class="row d-flex align-items-center mb-4">
                    <div class="col-8">
                        <h2 class="d-flex align-items-center text-white mb-0">
                            @weeklyRevenue.ToString("N2")₺
                        </h2>
                    </div>
                    <div class="col-4 text-right">
                        <span class="text-white-50">+4.2% <i class="mdi mdi-arrow-up"></i></span>
                    </div>
                </div>

                <div class="progress badge-soft-light shadow-sm" style="height: 7px;">
                    <div class="progress-bar bg-light" role="progressbar" style="width: 52%;"></div>
                </div>
            </div>
        </div>
    </div> <!-- end col-->
    <!-- Aylık Giderler -->
    <div class="col-md-6 col-xl-3">
        <div class="card bg-warning border-warning">
            <div class="card-body">
                <div class="mb-4">
                    <span class="badge badge-soft-light float-right">Aylık</span>
                    <h5 class="card-title mb-0 text-white">Aylık Giderler</h5>
                </div>
                <div class="row d-flex align-items-center mb-4">
                    <div class="col-8">
                        <h2 class="d-flex align-items-center text-white mb-0">
                            @Model.AverageMonthlyRentPrice.ToString("N2")₺
                        </h2>
                    </div>
                    <div class="col-4 text-right">
                        <span class="text-white-50">+5.7% <i class="mdi mdi-arrow-up"></i></span>
                    </div>
                </div>

                <div class="progress badge-soft-light shadow-sm" style="height: 7px;">
                    <div class="progress-bar bg-light" role="progressbar" style="width: 68%;"></div>
                </div>
            </div>
        </div>
    </div> <!-- end col-->
    <!-- Aktif Rezervasyonlar -->
    <div class="col-md-6 col-xl-3">
        <div class="card bg-info border-info">
            <div class="card-body">
                <div class="mb-4">
                    <span class="badge badge-soft-light float-right">Genel</span>
                    <h5 class="card-title mb-0 text-white">Aktif Rezervasyon Sayısı</h5>
                </div>
                <div class="row d-flex align-items-center mb-4">
                    <div class="col-8">
                        <h2 class="d-flex align-items-center text-white mb-0">
                            @activeRentalCount
                        </h2>
                    </div>
                    <div class="col-4 text-right">
                        <span class="text-white-50">+17.8% <i class="mdi mdi-arrow-up"></i></span>
                    </div>
                </div>

                <div class="progress badge-soft-light shadow-sm" style="height: 7px;">
                    <div class="progress-bar bg-light" role="progressbar" style="width: 57%;"></div>
                </div>
            </div>
        </div>
    </div> <!-- end col-->
</div>
<!-- end row -->

<div class="row">

    <!-- Kiralama İstatistikleri (Bar Chart) -->
    <div class="col-lg-4">
        <div class="card">
            <div class="card-body">
                <div class="dropdown float-right position-relative">
                    <a href="#" class="dropdown-toggle h4 text-muted" data-toggle="dropdown"
                       aria-expanded="false">
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li><a href="#" class="dropdown-item">Bu Hafta</a></li>
                        <li><a href="#" class="dropdown-item">Bu Ay</a></li>
                        <li><a href="#" class="dropdown-item">Bu Yıl</a></li>
                        <li class="dropdown-divider"></li>
                        <li><a href="#" class="dropdown-item">Tümü</a></li>
                    </ul>
                </div>
                <h4 class="card-title d-inline-block">Kiralama İstatistikleri</h4>

                <div id="morris-bar-example" class="morris-chart" style="height: 260px;"></div>

                <div class="row text-center mt-4">
                    <div class="col-6">
                        <h4>@totalRevenue.ToString("N2")₺</h4>
                        <p class="text-muted mb-0">Toplam Ciro</p>
                    </div>
                    <div class="col-6">
                        <h4>@totalRentals</h4>
                        <p class="text-muted mb-0">Toplam Kiralama</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- end col -->

    <!-- Günlük Kiralama Dağılımı (Donut) -->
    <div class="col-lg-4">
        <div class="card">
            <div class="card-body">
                <div class="dropdown float-right position-relative">
                    <a href="#" class="dropdown-toggle h4 text-muted" data-toggle="dropdown"
                       aria-expanded="false">
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li><a href="#" class="dropdown-item">Bugün</a></li>
                        <li><a href="#" class="dropdown-item">Son 7 Gün</a></li>
                        <li><a href="#" class="dropdown-item">Son 30 Gün</a></li>
                        <li class="dropdown-divider"></li>
                        <li><a href="#" class="dropdown-item">Tümü</a></li>
                    </ul>
                </div>
                <h4 class="card-title d-inline-block">Günlük Kiralama Dağılımı</h4>

                <div id="morris-donut-example" class="morris-chart" style="height: 260px;"></div>

                <div class="row text-center mt-4">
                    <div class="col-6">
                        <h4>@dailyRentals</h4>
                        <p class="text-muted mb-0">Toplam Kiralama</p>
                    </div>
                    <div class="col-6">
                        <h4>@Model.DieselCarCount</h4>
                        <p class="text-muted mb-0">Aktif Kampanya</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- end col -->
    <!-- Toplam Ciro (Line) -->
    <div class="col-lg-4">
        <div class="card">
            <div class="card-body">
                <div class="dropdown float-right position-relative">
                    <a href="#" class="dropdown-toggle h4 text-muted" data-toggle="dropdown"
                       aria-expanded="false">
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li><a href="#" class="dropdown-item">Aylık</a></li>
                        <li><a href="#" class="dropdown-item">3 Aylık</a></li>
                        <li><a href="#" class="dropdown-item">Yıllık</a></li>
                        <li class="dropdown-divider"></li>
                        <li><a href="#" class="dropdown-item">Özel Rapor</a></li>
                    </ul>
                </div>
                <h4 class="card-title d-inline-block">Toplam Ciro</h4>

                <div id="morris-line-example" class="morris-chart" style="height: 260px;"></div>

                <div class="row text-center mt-4">
                    <div class="col-6">
                        <h4>@yearlyRevenue.ToString("N2")₺</h4>
                        <p class="text-muted mb-0">Yıllık Toplam Ciro</p>
                    </div>
                    <div class="col-6">
                        <h4>@activeLocationCount</h4>
                        <p class="text-muted mb-0">Aktif Şube</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- end col -->
</div>
<!-- end row-->


<div class="row">
    <!-- Son Kiralamalar -->
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">

                <h4 class="card-title">Son Kiralamalar</h4>
                <p class="card-subtitle mb-4 font-size-13">
                    İşlem dönemi: 21 Temmuz - 25 Ağustos
                </p>

                <div class="table-responsive">
                    <table class="table table-centered table-hover table-xl mb-0" id="recent-orders">
                        <thead>
                            <tr>
                                <th class="border-top-0">Araç</th>
                                <th class="border-top-0">Müşteri</th>
                                <th class="border-top-0">Lokasyon</th>
                                <th class="border-top-0">Doluluk / Yoğunluk</th>
                                <th class="border-top-0">Tutar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-truncate">Renault Clio 1.5 DCI</td>
                                <td class="text-truncate">Ahmet Yılmaz</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">İstanbul Havalimanı</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="85"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:85%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺1.200,00</td>
                            </tr>
                            <tr>
                                <td class="text-truncate">Fiat Egea 1.3 Multijet</td>
                                <td class="text-truncate">Ayşe Demir</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">Sabiha Gökçen</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="72"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:72%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺1.190,00</td>
                            </tr>
                            <tr>
                                <td class="text-truncate">Volkswagen Passat</td>
                                <td class="text-truncate">Mehmet Kaya</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">Taksim Ofis</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="43"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:43%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺999,00</td>
                            </tr>
                            <tr>
                                <td class="text-truncate">Dacia Duster</td>
                                <td class="text-truncate">Zeynep Öztürk</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">Kadıköy Ofis</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="37"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:37%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺1.150,00</td>
                            </tr>
                            <tr>
                                <td class="text-truncate">Peugeot 3008</td>
                                <td class="text-truncate">Ali Çelik</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">Beşiktaş Ofis</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="82"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:82%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺1.180,00</td>
                            </tr>
                            <tr>
                                <td class="text-truncate">Toyota Corolla</td>
                                <td class="text-truncate">Elif Arslan</td>
                                <td>
                                    <span class="badge badge-soft-secondary p-2">Şişli Ofis</span>
                                </td>
                                <td>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar progress-bar-striped bg-secondary"
                                             role="progressbar" aria-valuenow="36"
                                             aria-valuemin="20" aria-valuemax="100"
                                             style="width:36%"></div>
                                    </div>
                                </td>
                                <td class="text-truncate">₺1.180,00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div> <!-- end card-body-->
        </div> <!-- end card-->
    </div> <!-- end col -->
    <!-- Ödeme Hareketleri -->
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">

                <h4 class="card-title">Ödeme Hareketleri</h4>
                <p class="card-subtitle mb-4 font-size-13">
                    İşlem dönemi: 21 Temmuz - 25 Ağustos
                </p>

                <div class="table-responsive">
                    <table class="table table-borderless table-hover table-centered table-nowrap mb-0">
                        <tbody>
                            <tr>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        4257 **** **** 7852
                                    </h5>
                                    <span class="text-muted font-size-12">11 Nisan 2019</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">₺79,49</h5>
                                    <span class="text-muted font-size-12">Tutar</span>
                                </td>
                                <td>
                                    <h5 class="font-size-17 mb-1 font-weight-normal">
                                        <i class="fab fa-cc-visa"></i>
                                    </h5>
                                    <span class="text-muted font-size-12">Kart</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        Hasan Karaca
                                    </h5>
                                    <span class="text-muted font-size-12">Ödeyen</span>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        4265 **** **** 0025
                                    </h5>
                                    <span class="text-muted font-size-12">28 Ocak 2019</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">₺1.254,00</h5>
                                    <span class="text-muted font-size-12">Tutar</span>
                                </td>
                                <td>
                                    <h5 class="font-size-17 mb-1 font-weight-normal">
                                        <i class="fab fa-cc-stripe"></i>
                                    </h5>
                                    <span class="text-muted font-size-12">Kart</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        Murat Yalçın
                                    </h5>
                                    <span class="text-muted font-size-12">Ödeyen</span>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        5570 **** **** 8547
                                    </h5>
                                    <span class="text-muted font-size-12">08 Aralık 2018</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">₺784,25</h5>
                                    <span class="text-muted font-size-12">Tutar</span>
                                </td>
                                <td>
                                    <h5 class="font-size-17 mb-1 font-weight-normal">
                                        <i class="fab fa-cc-amazon-pay"></i>
                                    </h5>
                                    <span class="text-muted font-size-12">Kart</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        Berk Sarı
                                    </h5>
                                    <span class="text-muted font-size-12">Ödeyen</span>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        7845 **** **** 5214
                                    </h5>
                                    <span class="text-muted font-size-12">03 Aralık 2018</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">₺485,24</h5>
                                    <span class="text-muted font-size-12">Tutar</span>
                                </td>
                                <td>
                                    <h5 class="font-size-17 mb-1 font-weight-normal">
                                        <i class="fab fa-cc-visa"></i>
                                    </h5>
                                    <span class="text-muted font-size-12">Kart</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        Selin Aksoy
                                    </h5>
                                    <span class="text-muted font-size-12">Ödeyen</span>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        4257 **** **** 7852
                                    </h5>
                                    <span class="text-muted font-size-12">12 Kasım 2018</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">₺8.964,04</h5>
                                    <span class="text-muted font-size-12">Tutar</span>
                                </td>
                                <td>
                                    <h5 class="font-size-17 mb-1 font-weight-normal">
                                        <i class="fab fa-cc-visa"></i>
                                    </h5>
                                    <span class="text-muted font-size-12">Kart</span>
                                </td>
                                <td>
                                    <h5 class="font-size-15 mb-1 font-weight-normal">
                                        Gökhan Aydın
                                    </h5>
                                    <span class="text-muted font-size-12">Ödeyen</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div> <!-- end card-body-->
        </div> <!-- end card-->
    </div> <!-- end col -->
</div>

<script src="~/Admin/vertical/assets/js/jquery.min.js"></script>
<script src="~/Admin/vertical/assets/js/bootstrap.bundle.min.js"></script>
<script src="~/Admin/vertical/assets/js/metismenu.min.js"></script>
<script src="~/Admin/vertical/assets/js/waves.js"></script>
<script src="~/Admin/vertical/assets/js/simplebar.min.js"></script>

<!-- Morris Js-->
<script src="~/Admin/plugins/morris-js/morris.min.js"></script>
<!-- Raphael Js-->
<script src="~/Admin/plugins/raphael/raphael.min.js"></script>

<!-- Morris Custom Js-->
<script src="~/Admin/vertical/assets/pages/dashboard-demo.js"></script>

<!-- App js -->
<script src="~/Admin/vertical/assets/js/theme.js"></script>
